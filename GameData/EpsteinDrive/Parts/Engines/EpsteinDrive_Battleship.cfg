// GameData/EpsteinDrive/Parts/Engines/EpsteinDrive_Battleship.cfg
// Two modes: Cruise + Overburn. Legacy fx_* + sound_* only.

PART
{
	name = EpsteinDrive_Battleship
	module = Part
	author = Jed-Tech

	MODEL
	{
		model = EpsteinDrive/Assets/DaedalusDrive
	}
	rescaleFactor = 1.0

	attachRules = 1,1,1,1,0
	bulkheadProfiles = size6

	node_stack_top    = 0,  5.0, 0, 0,  1, 0, 6
	node_stack_bottom = 0, -5.0, 0, 0, -1, 0, 6

	// FX + sounds (borrowed style)
	fx_exhaustFlame_blue      = 0.0, -2.2, 0.0, 0.0, 1.0, 0.0, running
	fx_exhaustLight_blue      = 0.0, -2.2, 0.0, 0.0, 0.0, 1.0, running
	fx_smokeTrail_light       = 0.0, -2.2, 0.0, 0.0, 1.0, 0.0, running
	fx_exhaustSparks_flameout  = 0.0, -2.2, 0.0, 0.0, 1.0, 0.0, flameout

	sound_vent_medium = engage
	sound_rocket_hard = running
	sound_vent_soft   = disengage
	sound_explosion_low = flameout

	// Editor
	category = Engine
	subcategory = 0
	TechRequired = nuclearPropulsion
	entryCost = 12000000
	cost = 6000000

	title = #LOC_EpsteinDrive_part_Battleship_title
	manufacturer = #LOC_EpsteinDrive_manufacturer
	description = #LOC_EpsteinDrive_part_Battleship_desc
	tags = epstein expanse torch fusion water overburn capital

	// Physical
	mass = 20.0
	crashTolerance = 25
	maxTemp = 2000
	emissiveConstant = 0.8

	// Drag
	dragModelType = default
	maximum_drag = 0.2
	minimum_drag = 0.2
	angularDrag = 2

	// Power: passive + alternator
	MODULE
	{
		name = ModuleGenerator
		isAlwaysActive = true
		OUTPUT_RESOURCE
		{
			name = ElectricCharge
			rate = 100
		}
	}
	MODULE
	{
		name = ModuleAlternator
		RESOURCE
		{
			name = ElectricCharge
			rate = 1000
		}
	}

	// Mode switching
	MODULE
	{
		name = MultiModeEngine
		primaryEngineID = Cruise
		primaryEngineModeDisplayName = #LOC_EpsteinDrive_mode_Cruise
		secondaryEngineID = Overburn
		secondaryEngineModeDisplayName = #LOC_EpsteinDrive_mode_Overburn
	}

	// Cruise (slightly more vacuum-efficient than Cruiser)
	MODULE
	{
		name = ModuleEnginesFX
		engineID = Cruise
		thrustVectorTransformName = thrustTransform
		EngineType = LiquidFuel

		minThrust = 0
		maxThrust = 120000
		heatProduction = 300

		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = true
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}

		atmosphereCurve
		{
			key = 0  600000
			key = 1  2000
		}
	}

	// Overburn
	MODULE
	{
		name = ModuleEnginesFX
		engineID = Overburn
		thrustVectorTransformName = thrustTransform
		EngineType = LiquidFuel

		minThrust = 0
		maxThrust = 180000
		heatProduction = 600

		PROPELLANT
		{
			name = LiquidFuel
			ratio = 0.9
			DrawGauge = true
		}
		PROPELLANT
		{
			name = Oxidizer
			ratio = 1.1
		}

		atmosphereCurve
		{
			key = 0  460000
			key = 1  1800
		}
	}

	// Gimbal (optional)
	MODULE
	{
		name = ModuleGimbal
		gimbalTransformName = thrustTransform
		gimbalRange = 2
	}
}
